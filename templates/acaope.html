{% extends 'basecord.html' %}

{% block titulo %}
  Ação - Metas PE
{% endblock %}

{% block conteudo %}
<div style="margin: auto; width: 50%; text-align: center;">
  <div class="form-block"><br>
    <h2>Planejamento Estratégico - Cadastro de Ação</h2><br>
    <form method="POST" action="{{ url_for('associar_acaope') }}">
      <label for="meta_pe_id">Selecione a Meta PE:</label></br>
      <select name="meta_pe_id" required style="width: 80%; margin-bottom: 10px;">
          {% for meta in metas_pe %}
              <option value="{{ meta.id }}">{{ meta.nome }}</option>
          {% endfor %}
      </select><br>
      
      <label for="nome">Nome da Ação:</label><br>
      <input type="text" id="nome" name="nome" required style="width: 80%; margin-bottom: 10px;"><br>
      <label for="nome">Porcentagem da Execução:</label><br>
      <input type="text" id="porcentagem_execucao" name="porcentagem_execucao" required style="width: 80%; margin-bottom: 10px;"><br>
      <label for="nome">Data de Inicio:</label><br>
      <input type="date" id="data_inicio" name="data_inicio" required style="width: 80%; margin-bottom: 10px;"><br>
      <label for="nome">Data de Término:</label><br>
      <input type="date" id="data_termino" name="data_termino" required style="width: 80%; margin-bottom: 10px;"><br>
      <label for="nome">Responsável:</label><br>
      <input type="text" id="responsavel" name="responsavel" required style="width: 80%; margin-bottom: 10px;"><br>
      <label for="status">Status:</label><br>
      <select id="status" name="status" required style="width: 80%; margin-bottom: 10px;">
          <option value="planejada">Planejada</option>
          <option value="em_andamento">Em Andamento</option>
          <option value="concluída">Concluída</option>
          <option value="atrasada">Atrasada</option>
          <option value="cancelada">Cancelada</option>
      </select><br>
      <<label for="nome">Observação:</label><br>
      <input type="text" id="observacao" name="observacao" required style="width: 80%; margin-bottom: 10px;"><br>
      <!-- Adicione outros campos para os indicadores, se necessário -->

      <button type="submit" style="background-color: darkblue; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer;">Cadastrar</button>
      <button type="button" onclick="cancelar()" style="background-color: #f44336; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; margin-left: 10px;">Cancelar</button><br>            
    </form>
 </div>
</div>
<script>
  function cancelar() {
      // Exibe um aviso de confirmação antes de redirecionar
      if (confirm('Tem certeza que deseja cancelar?')) {
          // Redireciona o usuário para a página inicial
          window.location.href = '/cancelar';
      }
  }
</script>
{% endblock %}